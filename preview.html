<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Pr√©visualisation - Fiche Produit</title>
  
  <!-- Biblioth√®ques PDF -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>

  <!-- Google Fonts - Style Apple (SF Pro / Inter) -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  
  <!-- CSS -->
  <link rel="stylesheet" href="css/variables.css">
  <link rel="stylesheet" href="css/main.css">
  <link rel="stylesheet" href="css/preview.css">
  
  <style>
    /* Variables sp√©cifiques pour preview - Identit√© Otera authentique */
    :root {
      --color-primary: #E65B0C; /* Orange Otera - couleur principale du site */
      --color-secondary: #8B6F5E; /* Beige-orange moyen */
      --color-accent: #F5A872; /* Orange clair */
      --color-text: #2C2E2D; /* Noir/gris fonc√© */
      --color-pdf-bg: #FEFCF9; /* Beige tr√®s clair - fond du site */
      --color-accent-light: #FDF8F3; /* Beige clair - fond sections */
      --color-divider: #E8DCC8; /* Beige doux pour diviseurs */
      --color-highlight: #F5E6D3; /* Beige pastel pour les recettes */
      --color-badge: #E65B0C; /* Badge circuit-court - orange Otera */
      --color-badge-text: #FFFFFF; /* Texte badge blanc */
    }
  </style>
</head>
<body>
  <div class="container">
    <!-- Header -->
    <div class="header">
      <div class="header-title">
        <span style="font-size: 2rem;">üçá</span>
        <h1 id="pageTitle">Pr√©visualisation</h1>
      </div>
      <div class="header-actions">
        <div class="badge-toggle-container">
          <label class="badge-toggle-label">
            <input type="checkbox" id="badgeToggle" checked>
            <span class="badge-toggle-text">Badge Circuit-court</span>
          </label>
        </div>
        <button class="btn btn-primary" id="downloadBtn" style="display: none;">
          <span>‚¨áÔ∏è</span>
          <span>T√©l√©charger le PDF</span>
        </button>
        <a href="index.html?return=true" class="btn btn-secondary">
          <span>üîÑ</span>
          <span>Nouvelle fiche</span>
        </a>
      </div>
    </div>

    <!-- Contenu -->
    <div class="pdf-wrapper">
      <!-- Loading -->
      <div class="loading" id="loading">
        <div class="spinner"></div>
        <p>Chargement de la pr√©visualisation...</p>
      </div>

      <!-- Error -->
      <div class="error" id="error" style="display: none;">
        <h2>‚ùå Erreur</h2>
        <p id="errorMessage"></p>
        <a href="index.html" class="btn btn-primary" style="margin-top: 20px;">
          Retour √† l'accueil
        </a>
      </div>

      <!-- PDF Preview -->
      <div id="pdfPreview" style="display: none;"></div>
    </div>
  </div>

  <!-- JavaScript -->
  <script src="js/config.js?v=1.1"></script>
  <script src="js/preview.js?v=1.1"></script>
</body>
</html>
